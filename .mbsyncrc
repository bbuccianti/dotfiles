IMAPAccount benja
Host mail.buccianti.dev
User benjamin@buccianti.dev
PassCmd "gpg2 -q --for-your-eyes-only --no-tty -d ~/.secrets/.buccianti.gpg"
SSLType IMAPS
CertificateFile ~/.cert/mail.buccianti.dev.pem

IMAPStore benja-remote
Account benja

MaildirStore benja-local
Path ~/.mail/benjamin/
Inbox ~/.mail/benjamin/Inbox

Channel benja
Master :benja-remote:
Slave :benja-local:
Patterns *
Create Both
SyncState *

####################################################################
####################################################################

IMAPAccount gmail
Host imap.gmail.com
User bebuccianti@gmail.com
PassCmd "gpg2 -q --for-your-eyes-only --no-tty -d ~/.secrets/.gmail.gpg"
SSLType IMAPS
CertificateFile /etc/ssl/certs/ca-certificates.crt
CertificateFile ~/.cert/imap.gmail.com.pem

IMAPStore gmail-remote
Account gmail

MaildirStore gmail-local
Subfolders Verbatim
# The trailing "/" is important
Path ~/.mail/gmail/
Inbox ~/.mail/gmail/Inbox

Channel gmail
Master :gmail-remote:
Slave :gmail-local:
# Exclude everything under the internal [Gmail] folder, except the interesting folders
Patterns * ![Gmail]* "[Gmail]/Sent Mail" "[Gmail]/Starred" "[Gmail]/All Mail"
# Or include everything
#Patterns *
# Automatically create missing mailboxes, both locally and on the server
Create Both
# Save the synchronization state files in the relevant directory
SyncState *